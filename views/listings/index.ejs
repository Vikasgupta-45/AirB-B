<% layout("layouts/boilerplate")%>


<!-- Category Filters -->
<div class="filters" id="filterContainer">
    <div class="filter" data-category="all" onclick="filterListings('all')">
        <div><i class="fa-solid fa-fire"></i></div>
        <p>Trending</p>
    </div>
    <div class="filter" data-category="Mountain" onclick="filterListings('Mountain')">
        <div><i class="fa-solid fa-mountain"></i></div>
        <p>Mountains</p>
    </div>
    <div class="filter" data-category="Beach" onclick="filterListings('Beach')">
        <div><i class="fa-solid fa-water"></i></div>
        <p>Beach</p>
    </div>
    <div class="filter" data-category="Island" onclick="filterListings('Island')">
        <div><i class="fa-solid fa-volcano"></i></div>
        <p>Island</p>
    </div>
    <div class="filter" data-category="Countryside" onclick="filterListings('Countryside')">
        <div><i class="fa-solid fa-tree"></i></div>
        <p>Countryside</p>
    </div>
    <div class="filter" data-category="City" onclick="filterListings('City')">
        <div><i class="fa-solid fa-city"></i></div>
        <p>City</p>
    </div>
    <div class="filter" data-category="Camping" onclick="filterListings('Camping')">
        <div><i class="fa-solid fa-campground"></i></div>
        <p>Camping</p>
    </div>
    <div class="filter" data-category="Snow" onclick="filterListings('Snow')">
        <div><i class="fa-regular fa-snowflake"></i></div>
        <p>Snow</p>
    </div>
    <div class="filter" data-category="Desert" onclick="filterListings('Desert')">
        <div><i class="fa-solid fa-sun"></i></div>
        <p>Desert</p>
    </div>
    <div class="filter" data-category="Lake" onclick="filterListings('Lake')">
        <div><i class="fa-solid fa-water"></i></div>
        <p>Lake</p>
    </div>
    <div class="filter" data-category="Villa" onclick="filterListings('Villa')">
        <div><i class="fa-solid fa-house-tsunami"></i></div>
        <p>Villa</p>
    </div>

  <div class="form-check-reverse toogle form-switch">
    <div class="data data1">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
  <label class="form-check-label" for="flexSwitchCheckDefault">Display Total After Taxes</label>
    </div>

</div>
</div>

<h3 class="mt-2 mb-4">All listings</h3>

<!-- Apply row-cols to the row -->
<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4 ">
    <% for(let listing of allListing){ %>
      <div class="col">
        <a href="/listings/<%= listing._id %>" class="text-decoration-none text-dark">
          <div class="card listings-card h-100" >
            <img src="<%= (listing.image && listing.image.url) ? listing.image.url : 'https://images.unsplash.com/photo-1505691938895-1758d7feb511?q=80&w=1200&auto=format&fit=crop' %>" style="height:20rem; object-fit:cover;" class="card-img-top" alt="Listing-image">
            <div class="card-body">
              <h5 class="card-title text-truncate"><%= listing.title || 'Untitled' %></h5>
              <p class="card-text mb-0 price-row" 
                data-base="<%= listing.price %>">
                       â‚¹<span class="price-amount">
                        <%= listing.price.toLocaleString('en-IN') %>
                       </span>/Night  
                      <i class="tax-info"> &nbsp;+18% GST</i>
              </p>

            <!-- <p class="card-text mb-0 " id="gstprice">&#x20B9;<%= (typeof listing.price === 'number') ? listing.price.toLocaleString('en-IN') : (listing.price ? listing.price : 'N/A') %>/Night  <i class="tax-info"> &nbsp;+18% GST</i></p> -->
             
            
              
            </div>
          </div>
        </a>
      </div>
    <% } %>
</div>

